---
- name:
    Update Debian family packages
  apt:
    upgrade:
      dist
    update_cache:
      yes
    default_release:
      "{{ _default_release | default(omit) }}"
  when:
    ansible_os_family == "Debian"
  become:
    yes
  tags:
    update

- name: Update FreeBSD family packages
  command:
    pkg upgrade -y
  become:
    yes
  when:
    ansible_os_family == "FreeBSD"
  tags:
    update

- name: Update Fedora Packages
  dnf:
    name:
      "*"
    state:
      latest
  become:
    yes
  when:
    ansible_distribution == "Fedora"
  tags:
    update

- name: Update RedHat family Packages
  yum:
    name: "*"
    state: latest
  become: yes
  when: ansible_os_family == "RedHat"
  tags: update
